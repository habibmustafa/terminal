import{r as h,j as t,R as C}from"./chunks/reactBaehr4Gm.js";import{c as N}from"./chunks/react-domB3MKiMfy.js";import{c as E}from"./chunks/zustandDKkjRzvD.js";import"./chunks/schedulerDYLXRpC5.js";import"./chunks/use-sync-external-storeCRmPIeGP.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const m of o.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const y=[`<span style='font-family: monospace'>██╗    ██╗███████╗██╗      ██████╗ ██████╗ ███╗   ███╗███████╗    ████████╗ ██████╗     ████████╗███████╗██████╗ ███╗   ███╗██╗███╗   ██╗ █████╗ ██╗     
██║    ██║██╔════╝██║     ██╔════╝██╔═══██╗████╗ ████║██╔════╝    ╚══██╔══╝██╔═══██╗    ╚══██╔══╝██╔════╝██╔══██╗████╗ ████║██║████╗  ██║██╔══██╗██║     
██║ █╗ ██║█████╗  ██║     ██║     ██║   ██║██╔████╔██║█████╗         ██║   ██║   ██║       ██║   █████╗  ██████╔╝██╔████╔██║██║██╔██╗ ██║███████║██║     
██║███╗██║██╔══╝  ██║     ██║     ██║   ██║██║╚██╔╝██║██╔══╝         ██║   ██║   ██║       ██║   ██╔══╝  ██╔══██╗██║╚██╔╝██║██║██║╚██╗██║██╔══██║██║     
╚███╔███╔╝███████╗███████╗╚██████╗╚██████╔╝██║ ╚═╝ ██║███████╗       ██║   ╚██████╔╝       ██║   ███████╗██║  ██║██║ ╚═╝ ██║██║██║ ╚████║██║  ██║███████╗
 ╚══╝╚══╝ ╚══════╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝     ╚═╝╚══════╝       ╚═╝    ╚═════╝        ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝</span>`,"<span class='command' style='font-size:14px'>Welcome to my web terminal.</span>","<span class='command' style='font-size:14px'>For a list of available commands, type <span class='commander'>help</span>. </span>"],I=["<span class='commander'>what</span>           What's up?","<span class='commander'>secret</span>         Find the password","<span class='commander'>help</span>           You obviously already know what this does","<span class='commander'>clear / cls</span>    Clear terminal"],w=({text:e,speed:n=20,className:a=""})=>{const[c,s]=h.useState(""),[o,m]=h.useState(0);return h.useEffect(()=>{const l=(Array.isArray(e)?e.join(`
`):e).match(/(\s*\S+\s*)/g)||[];if(o<l.length){const f=setTimeout(()=>{s(x=>x+l[o]),m(o+1)},n);return()=>clearTimeout(f)}},[o,n,e]),t.jsx("div",{className:`${a} whitespace-pre-wrap`,dangerouslySetInnerHTML:{__html:c}})},p=E(e=>({command:"",lastCommandIndex:0,history:[],commandLogs:[],setCommand:n=>e({command:n}),commandLogging:()=>e(n=>{const a=n.commandLogs.indexOf(n.command),c=[...n.commandLogs];return a!==-1&&c.splice(a,1),c.push(n.command),{commandLogs:c}}),setLastCommandIndex:n=>e({lastCommandIndex:n}),setHistory:n=>e(a=>{const c=a.commandLogs.indexOf(a.command),s=[...a.commandLogs];return c!==-1&&s.splice(c,1),a.command.trim()&&s.push(a.command),{lastCommandIndex:0,command:"",history:[...a.history,{id:a.history.length,date:new Date,command:a.command,output:n}]}}),clearHistory:()=>e({history:[],command:"",lastCommandIndex:0})})),d={set:e=>p.getState().setHistory(e),write:e=>p.getState().setHistory(e),clear:()=>p.getState().clearHistory(),commandLogging:()=>p.getState().commandLogging(),prompt:()=>{console.log("prompt")}},S=()=>{const e=p(n=>n.history);return h.useEffect(()=>{window.scrollTo({top:document.documentElement.scrollHeight})},[e]),!!e.length&&t.jsx("div",{className:"overflow-hidden",children:e.map(n=>t.jsxs("div",{children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("span",{className:"min-w-max font-medium text-emerald-400",children:"habib: $ ~"}),t.jsxs("span",{children:[" ",n.command]})]}),n.output&&t.jsx(w,{className:"mb-2 ml-3",text:n.output})]},n.id))})};var u=(e=>(e.SPACE="",e.CLEAR="clear",e.CLS="cls",e.HELP="help",e.LOGIN="login",e))(u||{});const L={[u.SPACE]:()=>{d.write("")},[u.CLEAR]:()=>{d.clear()},[u.CLS]:()=>{d.clear()},[u.HELP]:()=>{d.write(I)},[u.LOGIN]:()=>{d.write(y)}},T=e=>{const n=e.trim().toLowerCase();n&&d.commandLogging();const a=L[n];return a?a():d.write(`"${n}" not found. For a list of available commands, type '<span class='commander'>help</span>'.`)},j=Object.keys(L),H=e=>j.includes(e.toLowerCase()),O=({user:e,run:n,type:a="command",...c})=>{const s=C.useRef(null),{command:o,setCommand:m,lastCommandIndex:g,commandLogs:l,setLastCommandIndex:f}=p(),x=()=>{const r=j.find(i=>i.startsWith(o));return r||o},v=r=>{if(r.key==="Enter")return T(o);if(r.key==="Tab")r.preventDefault(),m(x());else if(r.key==="ArrowUp"){if(r.preventDefault(),l.length){const i=g+1;i<=l.length&&(f(i),m(l[l.length-i]))}}else if(r.key==="ArrowDown"&&(r.preventDefault(),l.length)){const i=g-1;i>0?(f(i),m(l[l.length-i])):(f(0),m(""))}},b=r=>{if(r.key==="Enter")return n&&n(o)};return t.jsxs(t.Fragment,{children:[a==="command"&&t.jsxs("div",{className:"flex gap-1 relative",children:[t.jsxs("label",{className:"min-w-max font-medium text-emerald-400",children:[e,": $ ~"]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{className:`w-full bg-transparent border-none outline-none caret-white ${H(o)?"command":""}`,autoFocus:!0,ref:s,value:o,onChange:r=>m(r.target.value),onBlur:()=>{var r;return(r=s.current)==null?void 0:r.focus()},onKeyDown:v,...c}),x()!==o&&t.jsx("span",{className:"absolute left-0 -z-10 opacity-40",children:x()})]})]}),a==="prompt"&&t.jsxs("div",{className:"flex gap-1 relative",children:[t.jsx("label",{className:"min-w-max font-medium text-emerald-400",children:">>>"}),t.jsx("input",{className:"w-full bg-transparent border-none outline-none caret-white",autoFocus:!0,ref:s,value:o,onChange:r=>m(r.target.value),onBlur:()=>{var r;return(r=s.current)==null?void 0:r.focus()},onKeyDown:b,...c})]})]})},A="habib",D=()=>t.jsxs("div",{className:"terminal min-h-[100svh] h-full max-w-[1294px] mx-auto px-3 py-5 border-x border-neutral-800",children:[t.jsx(w,{className:"mb-4 text-slate-500 text-[4px] sm:text-[6px] md:text-[8px] lg:text-[10px]",text:y,speed:5}),t.jsx(S,{}),t.jsx(O,{user:A}),t.jsx("div",{className:"h-40"})]}),P=()=>t.jsx(t.Fragment,{children:t.jsx(D,{})});N.createRoot(document.getElementById("root")).render(t.jsx(P,{}));
